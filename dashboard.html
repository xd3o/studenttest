<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Ù„ÙˆØ­Ø© Ø§Ù„Ø·Ø§Ù„Ø¨ - Ø¥Ø¹Ø¯Ø§Ø¯ÙŠØ© Ø±Ø§ÙØ¯ÙŠÙ†</title>
<style>
body {
  margin:0;
  font-family:"Arial",sans-serif;
  background: url('https://k.top4top.io/p_3498f7ivx1.png') no-repeat center top;
  background-size: cover;
  direction: rtl;
}
header{
  background: linear-gradient(90deg,#F4BE45,#54B8C2);
  color:white;
  padding:12px 20px;
  text-align:center;
  font-weight:700;
}
.app-wrap{
  max-width:1100px;
  margin:20px auto;
  display:flex;
  gap:20px;
  position:relative;
}
.sidebar{
  position:fixed;
  top:0;
  right:-25%;
  width:25%;
  height:100%;
  background:white;
  border-radius:0 0 0 8px;
  padding:12px;
  box-shadow:0 2px 8px rgba(0,0,0,0.06);
  transition:right 0.3s ease;
  z-index:1000;
}
.sidebar.active{
  right:0;
}
.sidebar .logo-small{
  display:block;
  margin:0 auto 10px auto;
}
.sidebar button{
  width:100%;
  text-align:right;
  padding:10px 12px;
  margin:6px 0;
  font-size:15px;
  cursor:pointer;
  border-radius:6px;
  border:1px solid rgba(0,0,0,0.06);
  background:#fff;
}
.sidebar button.active{
  background: linear-gradient(90deg,#F4BE45,#54B8C2);
  color:white;
  border:none;
  box-shadow:0 2px 6px rgba(0,0,0,0.08);
}
.main{
  flex:1;
  background: rgba(255,255,255,0.98);
  border-radius:8px;
  padding:18px;
  box-shadow:0 2px 8px rgba(0,0,0,0.06);
  min-width:0;
}
.student-card{
  display:flex;
  gap:14px;
  align-items:center;
  margin-bottom:14px;
}
.student-info h2{margin:0 0 6px 0;font-size:20px;}
.student-meta{color:#555;font-size:14px;}
.admin-message{
  margin:12px 0;
  padding:12px;
  background:#fff6e6;
  border-left:4px solid #F4BE45;
  border-radius:6px;
  display:none;
}
.card{background:white;border-radius:8px;padding:12px;margin-bottom:20px;overflow-x:auto;}
.card h3{color:#38b6b2;margin-bottom:10px;border-bottom:1px solid #ddd;padding-bottom:5px;}
table{width:100%;border-collapse:collapse;font-size:15px;min-width:600px;}
th,td{border:1px solid #ccc;padding:10px;text-align:center;}
th{background:#F4BE45;color:white;}
.fail{color:red;font-weight:bold;}
.hidden{display:none;}
#menuBtn{
  position:fixed;
  top:20px;
  right:20px;
  background:#54B8C2;
  border:none;
  color:white;
  padding:12px;
  font-size:20px;
  border-radius:6px;
  cursor:pointer;
  z-index:1100;
}
@media(max-width:900px){
  .app-wrap{flex-direction:column;padding:12px;margin:12px;}
  .sidebar{width:70%;}
  table{font-size:13px;min-width:auto;}
}
</style>
</head>
<body>

<header>Ø¥Ø¹Ø¯Ø§Ø¯ÙŠØ© Ø±Ø§ÙØ¯ÙŠÙ† - Ù„ÙˆØ­Ø© Ø§Ù„Ø·Ø§Ù„Ø¨</header>

<button id="menuBtn">â˜°</button>

<div class="app-wrap">

<aside class="sidebar" aria-label="Ø§Ù„Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ø¬Ø§Ù†Ø¨ÙŠØ©">
  <img src="https://e.top4top.io/p_34909jjnx0.png" alt="logo" class="logo-small" />
  <button id="btn-home" class="active">Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©</button>
  <button id="btn-grades">Ø¯Ø±Ø¬Ø§ØªÙŠ</button>
  <button id="btn-timetable">Ø¬Ø¯ÙˆÙ„ Ø§Ù„Ø£Ø³Ø¨ÙˆØ¹ÙŠ</button>
  <button id="btn-activities">Ø¬Ø¯ÙˆÙ„ Ø§Ù„Ù†Ø´Ø§Ø·Ø§Øª</button>
  <button id="btn-dark">Ø§Ù„ÙˆØ¶Ø¹ Ø§Ù„Ù…Ø¸Ù„Ù…</button>
  <button id="btn-contact">ØªÙˆØ§ØµÙ„ Ù…Ø¹Ù†Ø§</button>
</aside>

<main class="main" role="main">

<section id="home-section">
  <div class="student-card">
    <div style="width:82px;height:82px;border-radius:10px;background:#f1f1f1;display:flex;align-items:center;justify-content:center;font-size:28px;color:#777">ğŸ‘©â€ğŸ“</div>
    <div class="student-info">
      <h2 id="student-name">Ø§Ø³Ù… Ø§Ù„Ø·Ø§Ù„Ø¨</h2>
      <div class="student-meta"><span id="student-class">Ø§Ù„ØµÙ</span> â€” Ø´Ø¹Ø¨Ø© <span id="student-section">Ø´Ø¹Ø¨Ø©</span></div>
    </div>
  </div>
  <div id="admin-msg" class="admin-message" aria-live="polite"></div>
</section>

<section id="grades-section" class="hidden">
  <div class="card">
    <h3>Ø§Ù„ÙƒÙˆØ±Ø³ Ø§Ù„Ø£ÙˆÙ„</h3>
    <table>
      <thead>
        <tr><th>Ø§Ù„Ù…Ø§Ø¯Ø©</th><th>Ø´Ù‡Ø± 1</th><th>Ø´Ù‡Ø± 2</th><th>Ø´Ù‡Ø± 3</th><th>Ø³Ø¹ÙŠ 1</th><th>Ù†ØµÙ Ø§Ù„Ø³Ù†Ø©</th></tr>
      </thead>
      <tbody id="course1-body"></tbody>
    </table>
  </div>
  <div class="card">
    <h3>Ø§Ù„ÙƒÙˆØ±Ø³ Ø§Ù„Ø«Ø§Ù†ÙŠ</h3>
    <table>
      <thead>
        <tr><th>Ø§Ù„Ù…Ø§Ø¯Ø©</th><th>Ø´Ù‡Ø± 1</th><th>Ø´Ù‡Ø± 2</th><th>Ø´Ù‡Ø± 3</th><th>Ø³Ø¹ÙŠ 2</th><th>Ø§Ù„Ø³Ø¹ÙŠ Ø§Ù„Ø³Ù†ÙˆÙŠ</th><th>Ø§Ù„Ù†Ù‡Ø§Ø¦ÙŠ</th><th>Ø¨Ø¹Ø¯ Ø§Ù„Ø¥ÙƒÙ…Ø§Ù„</th></tr>
      </thead>
      <tbody id="course2-body"></tbody>
    </table>
  </div>
</section>

<section id="timetable-section" class="hidden">
  <div class="card">
    <h3>Ø¬Ø¯ÙˆÙ„ Ø§Ù„Ø£Ø³Ø¨ÙˆØ¹ÙŠ</h3>
    <table>
      <thead><tr><th>Ø§Ù„ÙŠÙˆÙ…</th><th>Ø§Ù„Ø­ØµØ© 1</th><th>Ø§Ù„Ø­ØµØ© 2</th><th>Ø§Ù„Ø­ØµØ© 3</th><th>Ø§Ù„Ø­ØµØ© 4</th><th>Ø§Ù„Ø­ØµØ© 5</th><th>Ø§Ù„Ø­ØµØ© 6</th></tr></thead>
      <tbody id="schedule-body"></tbody>
    </table>
  </div>
</section>

<section id="activities-section" class="hidden">
  <div class="card">
    <h3>Ø¬Ø¯ÙˆÙ„ Ø§Ù„Ù†Ø´Ø§Ø·Ø§Øª</h3>
    <table id="activities-table">
      <thead><tr><th>Ø§Ù„Ù†Ø´Ø§Ø·</th><th>Ø§Ù„ÙŠÙˆÙ…</th><th>Ø§Ù„ØªØ§Ø±ÙŠØ®</th></tr></thead>
      <tbody></tbody>
    </table>
  </div>
</section>

<section id="contact-section" class="hidden">
  <h3>ØªÙˆØ§ØµÙ„ Ù…Ø¹Ù†Ø§</h3>
  <p class="light-muted">Ø±ÙˆØ§Ø¨Ø· Ø§Ù„ØªÙˆØ§ØµÙ„ Ù‚Ø§Ø¨Ù„Ø© Ù„Ù„ØªØ¹Ø¯ÙŠÙ„ Ù…Ù† Ù‚Ø¨Ù„ Ø§Ù„Ø¥Ø¯Ø§Ø±Ø©.</p>
  <div style="margin-top:10px"><a id="fb-link" href="#" target="_blank">ÙÙŠØ³Ø¨ÙˆÙƒ</a> â€” <a id="tg-link" href="#" target="_blank">ØªÙŠÙ„ÙŠØ¬Ø±Ø§Ù…</a></div>
</section>

</main>
</div>

<script>
// Helpers
function q(sel){ return document.querySelector(sel); }
function showSection(id){
  document.querySelectorAll('.main section').forEach(s=>s.classList.add('hidden'));
  const el = document.getElementById(id); if(el) el.classList.remove('hidden');
  document.querySelectorAll('.sidebar button').forEach(b=>b.classList.remove('active'));
  const map = { 'home-section':'btn-home','grades-section':'btn-grades','timetable-section':'btn-timetable','activities-section':'btn-activities','contact-section':'btn-contact' };
  const btn = document.getElementById(map[id]);
  if(btn) btn.classList.add('active');
  // Ø¹Ù†Ø¯ Ø§Ø®ØªÙŠØ§Ø± Ø£ÙŠ Ø²Ø±ØŒ Ø§Ø®ÙØ§Ø¡ Ø§Ù„Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ø¬Ø§Ù†Ø¨ÙŠØ©
  document.querySelector('.sidebar').classList.remove('active');
}

// load student
const student = JSON.parse(localStorage.getItem('studentData') || 'null');
if(!student){ alert('Ù„Ù… ÙŠØªÙ… Ø§Ù„Ø¹Ø«ÙˆØ± Ø¹Ù„Ù‰ Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø·Ø§Ù„Ø¨. Ø§Ù„Ø±Ø¬Ø§Ø¡ ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„.'); window.location.href='index.html'; }

// student info
q('#student-name').textContent = student['Ø§Ù„Ø§Ø³Ù…']||'â€”';
q('#student-class').textContent = student['Ø§Ù„ØµÙ']||'â€”';
q('#student-section').textContent = student['Ø§Ù„Ø´Ø¹Ø¨Ø©']||'â€”';

// admin msg
let msg = student['Ø±Ø³Ø§Ù„Ø©_Ø§Ù„Ø¥Ø¯Ø§Ø±Ø©']||student['adminMessage']||'';
if(msg){ q('#admin-msg').style.display='block'; q('#admin-msg').innerHTML=msg.replace(/\n/g,'<br>'); }

// Ø¯Ø±Ø¬Ø§Øª
const grades = student['Ø§Ù„Ø¯Ø±Ø¬Ø§Øª']||{};
const c1 = q('#course1-body'), c2 = q('#course2-body');
for(const sub in grades){
  const g = grades[sub];
  const fail = v => (v<50?`<td class="fail">${v}</td>`:`<td>${v}</td>`);
  c1.innerHTML += `<tr><td>${sub}</td><td>${g["Ø§Ù„Ø´Ù‡Ø± Ø§Ù„Ø£ÙˆÙ„"]||0}</td><td>${g["Ø§Ù„Ø´Ù‡Ø± Ø§Ù„Ø«Ø§Ù†ÙŠ"]||0}</td><td>${g["Ø§Ù„Ø´Ù‡Ø± Ø§Ù„Ø«Ø§Ù„Ø«"]||0}</td><td>${g["Ø§Ù„Ø³Ø¹ÙŠ Ø§Ù„Ø£ÙˆÙ„"]||0}</td>${fail(g["Ù†ØµÙ Ø§Ù„Ø³Ù†Ø©"]||0)}</tr>`;
  c2.innerHTML += `<tr><td>${sub}</td><td>${g["Ø§Ù„ÙƒÙˆØ±Ø³ Ø§Ù„Ø«Ø§Ù†ÙŠ - Ø§Ù„Ø´Ù‡Ø± Ø§Ù„Ø£ÙˆÙ„"]||0}</td><td>${g["Ø§Ù„ÙƒÙˆØ±Ø³ Ø§Ù„Ø«Ø§Ù†ÙŠ - Ø§Ù„Ø´Ù‡Ø± Ø§Ù„Ø«Ø§Ù†ÙŠ"]||0}</td><td>${g["Ø§Ù„ÙƒÙˆØ±Ø³ Ø§Ù„Ø«Ø§Ù†ÙŠ - Ø§Ù„Ø´Ù‡Ø± Ø§Ù„Ø«Ø§Ù„Ø«"]||0}</td><td>${g["Ø§Ù„Ø³Ø¹ÙŠ Ø§Ù„Ø«Ø§Ù†ÙŠ"]||0}</td><td>${g["Ø§Ù„Ø³Ø¹ÙŠ Ø§Ù„Ø³Ù†ÙˆÙŠ"]||0}</td>${fail(g["Ø§Ù„Ù†Ù‡Ø§Ø¦ÙŠ"]||0)}${fail(g["Ø¨Ø¹Ø¯ Ø§Ù„Ø¥ÙƒÙ…Ø§Ù„"]||0)}</tr>`;
}

// Ø¬Ø¯ÙˆÙ„ Ø§Ù„Ø§Ø³Ø¨ÙˆØ¹ÙŠ
const timetable = student['Ø§Ù„Ø¬Ø¯ÙˆÙ„']||{};
const schedule = q('#schedule-body');
for(const day in timetable){
  const row = timetable[day];
  schedule.innerHTML += `<tr><td>${day}</td>${[0,1,2,3,4,5].map(i=>`<td>${row[i]||'â€”'}</td>`).join('')}</tr>`;
}

// Ø£Ø®Ø¨Ø§Ø±
fetch('/student/news.json').then(r=>r.json()).then(list=>{
  if(!Array.isArray(list)) return;
  const container = document.createElement('div'); container.className='card'; container.innerHTML='<h3>Ø§Ù„Ø£Ø®Ø¨Ø§Ø±</h3>';
  const tbl = document.createElement('table'); tbl.innerHTML='<tbody>'+list.slice(0,3).map(n=>`<tr><td>${n.title||''}</td><td>${n.date||''}</td></tr>`).join('')+'</tbody>';
  container.appendChild(tbl); q('#home-section').appendChild(container);
});

// Ø§Ù„Ù†Ø´Ø§Ø·Ø§Øª
fetch('/student/ac.json').then(r=>r.json()).then(list=>{
  const body = q('#activities-table tbody');
  list.forEach(act=>{ body.innerHTML += `<tr><td>${act.name}</td><td>${act.day}</td><td>${act.date}</td></tr>`; });
});

// sidebar toggle
const menuBtn = q('#menuBtn');
menuBtn.addEventListener('click',()=>{ document.querySelector('.sidebar').classList.toggle('active'); });

// sidebar buttons
q('#btn-home').addEventListener('click',()=>showSection('home-section'));
q('#btn-grades').addEventListener('click',()=>showSection('grades-section'));
q('#btn-timetable').addEventListener('click',()=>showSection('timetable-section'));
q('#btn-activities').addEventListener('click',()=>showSection('activities-section'));
q('#btn-contact').addEventListener('click',()=>showSection('contact-section'));

// dark mode
const darkBtn = q('#btn-dark');
darkBtn.addEventListener('click',()=>{
  document.body.classList.toggle('dark');
  darkBtn.classList.toggle('active');
  localStorage.setItem('darkMode',document.body.classList.contains('dark')?'1':'0');
});
if(localStorage.getItem('darkMode')==='1'){document.body.classList.add('dark'); darkBtn.classList.add('active');}
</script>
</body>
</html>
