<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Ù„ÙˆØ­Ø© Ø§Ù„Ø·Ø§Ù„Ø¨ - Ø¥Ø¹Ø¯Ø§Ø¯ÙŠØ© Ø±Ø§ÙØ¯ÙŠÙ†</title>
<link rel="stylesheet" href="style.css" />
<style>
/* Ø®Ù„ÙÙŠØ© Ø«Ø§Ø¨ØªØ© */
body {
  font-family: 'Tahoma', sans-serif;
  margin:0;
  padding:0;
  background: url('https://k.top4top.io/p_3498f7ivx1.png') no-repeat center center fixed;
  background-size: cover;
}

/* Ø±Ø£Ø³ Ø§Ù„ØµÙØ­Ø© */
header {
  background: linear-gradient(90deg,#54B8C2,#F4BE45);
  color:white;
  padding:12px 20px;
  display:flex;
  justify-content:space-between;
  align-items:center;
}
header .logo-top {
  height:50px;
}

/* Ø§Ù„Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ø¬Ø§Ù†Ø¨ÙŠØ© */
.sidebar {
  position:fixed;
  top:0;
  right:-25%;
  width:25%;
  height:100%;
  background: rgba(255,255,255,0.95);
  padding:15px;
  box-shadow:0 0 10px rgba(0,0,0,0.2);
  transition: right 0.3s;
  z-index:999;
}
.sidebar.active { right:0; }
.sidebar img.logo-small { display:block; margin:0 auto 15px; width:80px; }
.sidebar button {
  width:100%;
  text-align:right;
  padding:10px;
  margin:6px 0;
  font-size:16px;
  border:none;
  background:#fff;
  cursor:pointer;
  border-radius:5px;
}
.sidebar button.active { background: linear-gradient(90deg,#F4BE45,#54B8C2); color:#fff; }

/* Ø²Ø± Ø§Ù„Ø«Ù„Ø§Ø« Ø®Ø·ÙˆØ· */
#menuBtn {
  font-size:24px;
  cursor:pointer;
  background:none;
  border:none;
  color:white;
}

/* Ø§Ù„Ù…Ø­ØªÙˆÙ‰ Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠ */
.main {
  max-width:1100px;
  margin:20px auto;
  background: rgba(255,255,255,0.95);
  padding:20px;
  border-radius:8px;
  box-shadow:0 2px 8px rgba(0,0,0,0.1);
}
.student-card { display:flex; gap:12px; align-items:center; margin-bottom:12px; }
.student-card div.avatar { width:82px;height:82px;border-radius:10px;background:#f1f1f1;display:flex;align-items:center;justify-content:center;font-size:28px;color:#777; }
.student-info h2 { margin:0; font-size:20px; }
.student-meta { font-size:14px; color:#555; }
.admin-message { padding:12px; background:#fff6e6; border-left:4px solid #F4BE45; margin:12px 0; border-radius:6px; display:none; }

/* Ø§Ù„Ø¬Ø¯Ø§ÙˆÙ„ */
table { width:100%; border-collapse:collapse; margin-top:10px; }
th, td { border:1px solid #ddd; padding:8px; text-align:center; font-size:14px; }
th { background:#F4BE45; color:white; }
.fail { color:red; font-weight:bold; }

/* Ø§Ù„Ø£Ø®Ø¨Ø§Ø± ÙˆØ§Ù„Ù†Ø´Ø§Ø·Ø§Øª */
.news-list, .activity-list { display:grid; grid-template-columns: repeat(auto-fit,minmax(250px,1fr)); gap:10px; margin-top:10px; }
.news-card, .activity-card { background:#fafafa; border:1px solid #eee; border-radius:6px; padding:10px; }
.news-card h4, .activity-card h4 { margin:0 0 6px 0; font-size:15px; }

/* Ø§Ù„ÙˆØ¶Ø¹ Ø§Ù„Ù…Ø¸Ù„Ù… */
body.dark .main, body.dark .sidebar { background: rgba(32,32,32,0.9); color:#e9eef1; }
body.dark table, body.dark th, body.dark td { border-color: rgba(255,255,255,0.2); color:#e9eef1; }
body.dark th { background:#54B8C2; }

/* Responsive */
@media(max-width:900px){ .sidebar{ width:70%; } }
</style>
</head>
<body>

<header>
  <img src="https://e.top4top.io/p_34909jjnx0.png" class="logo-top" alt="Ù„ÙˆØºÙˆ Ø§Ù„Ù…Ø¯Ø±Ø³Ø©">
  <button id="menuBtn">â˜°</button>
</header>

<aside class="sidebar" id="sidebar">
  <img src="https://e.top4top.io/p_34909jjnx0.png" class="logo-small" alt="Ù„ÙˆØºÙˆ">
  <button id="btn-home" class="active">Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©</button>
  <button id="btn-grades">Ø¯Ø±Ø¬Ø§ØªÙŠ</button>
  <button id="btn-timetable">Ø§Ù„Ø¬Ø¯ÙˆÙ„ Ø§Ù„Ø£Ø³Ø¨ÙˆØ¹ÙŠ</button>
  <button id="btn-activities">Ø§Ù„Ù†Ø´Ø§Ø·Ø§Øª</button>
  <button id="btn-dark">Ø§Ù„ÙˆØ¶Ø¹ Ø§Ù„Ù…Ø¸Ù„Ù…</button>
  <button id="btn-contact">ØªÙˆØ§ØµÙ„ Ù…Ø¹Ù†Ø§</button>
</aside>

<div class="main">
  <!-- Home -->
  <section id="home-section">
    <div class="student-card">
      <div class="avatar">ğŸ‘©â€ğŸ“</div>
      <div class="student-info">
        <h2 id="student-name">Ø§Ø³Ù… Ø§Ù„Ø·Ø§Ù„Ø¨</h2>
        <div class="student-meta"><span id="student-class">Ø§Ù„ØµÙ</span> â€” Ø´Ø¹Ø¨Ø© <span id="student-section">Ø§Ù„Ø´Ø¹Ø¨Ø©</span></div>
      </div>
    </div>
    <div id="admin-msg" class="admin-message"></div>

    <h3>Ø§Ù„Ø£Ø®Ø¨Ø§Ø±</h3>
    <div id="news-container" class="news-list"></div>
  </section>

  <!-- Grades -->
  <section id="grades-section" class="hidden">
    <h3>Ø¯Ø±Ø¬Ø§ØªÙŠ - Ø§Ù„ÙƒÙˆØ±Ø³ Ø§Ù„Ø£ÙˆÙ„</h3>
    <table>
      <thead><tr><th>Ø§Ù„Ù…Ø§Ø¯Ø©</th><th>Ø´Ù‡Ø± 1</th><th>Ø´Ù‡Ø± 2</th><th>Ø´Ù‡Ø± 3</th><th>Ø³Ø¹ÙŠ 1</th><th>Ù†ØµÙ Ø§Ù„Ø³Ù†Ø©</th></tr></thead>
      <tbody id="course1-body"></tbody>
    </table>

    <h3>Ø§Ù„ÙƒÙˆØ±Ø³ Ø§Ù„Ø«Ø§Ù†ÙŠ</h3>
    <table>
      <thead><tr><th>Ø§Ù„Ù…Ø§Ø¯Ø©</th><th>Ø´Ù‡Ø± 1</th><th>Ø´Ù‡Ø± 2</th><th>Ø´Ù‡Ø± 3</th><th>Ø³Ø¹ÙŠ 2</th><th>Ø§Ù„Ø³Ø¹ÙŠ Ø§Ù„Ø³Ù†ÙˆÙŠ</th><th>Ø§Ù„Ù†Ù‡Ø§Ø¦ÙŠ</th><th>Ø¨Ø¹Ø¯ Ø§Ù„Ø¥ÙƒÙ…Ø§Ù„</th></tr></thead>
      <tbody id="course2-body"></tbody>
    </table>
  </section>

  <!-- Timetable -->
  <section id="timetable-section" class="hidden">
    <h3>Ø§Ù„Ø¬Ø¯ÙˆÙ„ Ø§Ù„Ø£Ø³Ø¨ÙˆØ¹ÙŠ</h3>
    <table>
      <thead><tr><th>Ø§Ù„ÙŠÙˆÙ…</th><th>Ø§Ù„Ø­ØµØ© 1</th><th>Ø§Ù„Ø­ØµØ© 2</th><th>Ø§Ù„Ø­ØµØ© 3</th><th>Ø§Ù„Ø­ØµØ© 4</th><th>Ø§Ù„Ø­ØµØ© 5</th><th>Ø§Ù„Ø­ØµØ© 6</th></tr></thead>
      <tbody id="schedule-body"></tbody>
    </table>
  </section>

  <!-- Activities -->
  <section id="activities-section" class="hidden">
    <h3>Ø§Ù„Ù†Ø´Ø§Ø·Ø§Øª</h3>
    <div id="activities-container" class="activity-list"></div>
  </section>

  <!-- Contact -->
  <section id="contact-section" class="hidden">
    <h3>ØªÙˆØ§ØµÙ„ Ù…Ø¹Ù†Ø§</h3>
    <p class="light-muted">Ø±ÙˆØ§Ø¨Ø· Ø§Ù„ØªÙˆØ§ØµÙ„ Ù‚Ø§Ø¨Ù„Ø© Ù„Ù„ØªØ¹Ø¯ÙŠÙ„ Ù…Ù† Ù‚Ø¨Ù„ Ø§Ù„Ø¥Ø¯Ø§Ø±Ø©.</p>
    <div style="margin-top:10px"><a id="fb-link" href="#" target="_blank">ÙÙŠØ³Ø¨ÙˆÙƒ</a> â€” <a id="tg-link" href="#" target="_blank">ØªÙŠÙ„ÙŠØ¬Ø±Ø§Ù…</a></div>
  </section>
</div>

<script>
// Ø¹Ù†Ø§ØµØ± Ø§Ù„Ù…Ø³Ø§Ø¹Ø¯
const q = s=>document.querySelector(s);
const sidebar = q('#sidebar');
const menuBtn = q('#menuBtn');
menuBtn.addEventListener('click', ()=>{ sidebar.classList.toggle('active'); });

// Ø¥Ø®ÙØ§Ø¡ Ø§Ù„Ù‚Ø§Ø¦Ù…Ø© Ø¹Ù†Ø¯ Ø§Ø®ØªÙŠØ§Ø± Ø²Ø±
function showSection(id){
  document.querySelectorAll('.main section').forEach(s=>s.classList.add('hidden'));
  q('#'+id).classList.remove('hidden');
  document.querySelectorAll('.sidebar button').forEach(b=>b.classList.remove('active'));
  const map={'home-section':'btn-home','grades-section':'btn-grades','timetable-section':'btn-timetable','activities-section':'btn-activities','contact-section':'btn-contact'};
  const btn=q('#'+map[id]);
  if(btn) btn.classList.add('active');
  sidebar.classList.remove('active'); // Ø¥Ø®ÙØ§Ø¡ Ø§Ù„Ù‚Ø§Ø¦Ù…Ø© Ø¨Ø¹Ø¯ Ø§Ø®ØªÙŠØ§Ø± Ø²Ø±
  window.scrollTo({top:0,behavior:'smooth'});
}

// Load student data
const student = JSON.parse(localStorage.getItem('studentData') || 'null');
if(!student){ alert('Ù„Ù… ÙŠØªÙ… Ø§Ù„Ø¹Ø«ÙˆØ± Ø¹Ù„Ù‰ Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø·Ø§Ù„Ø¨. Ø§Ù„Ø±Ø¬Ø§Ø¡ ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„.'); window.location.href='index.html'; }

// Ø¹Ø±Ø¶ Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø·Ø§Ù„Ø¨
q('#student-name').textContent = student['Ø§Ù„Ø§Ø³Ù…'] || 'â€”';
q('#student-class').textContent = student['Ø§Ù„ØµÙ'] || 'â€”';
q('#student-section').textContent = student['Ø§Ù„Ø´Ø¹Ø¨Ø©'] || 'â€”';

// Ø±Ø³Ø§Ù„Ø© Ø§Ù„Ø¥Ø¯Ø§Ø±Ø©
let adminMsg = student['Ø±Ø³Ø§Ù„Ø©_Ø§Ù„Ø¥Ø¯Ø§Ø±Ø©'] || student['adminMessage'] || '';
if(adminMsg){ const el=q('#admin-msg'); el.style.display='block'; el.innerHTML=adminMsg.replace(/\n/g,'<br>'); }

// Ø¹Ø±Ø¶ Ø§Ù„Ø¯Ø±Ø¬Ø§Øª
function renderGrades(course, tbodyId){
  const tbody=q('#'+tbodyId);
  tbody.innerHTML='';
  for(const subj in course){
    const row=course[subj];
    const tr=document.createElement('tr');
    tr.innerHTML=`<td>${subj}</td>` + Object.values(row).map(v=>`<td class="${v<50?'fail':''}">${v===null?'â€”':v}</td>`).join('');
    tbody.appendChild(tr);
  }
}
renderGrades(student['ÙƒÙˆØ±Ø³1'] || {}, 'course1-body');
renderGrades(student['ÙƒÙˆØ±Ø³2'] || {}, 'course2-body');

// Ø§Ù„Ø¬Ø¯ÙˆÙ„ Ø§Ù„Ø£Ø³Ø¨ÙˆØ¹ÙŠ
const schedule=student['Ø§Ù„Ø¬Ø¯ÙˆÙ„'] || {};
const scheduleBody=q('#schedule-body');
for(const day in schedule){
  const tr=document.createElement('tr');
  tr.innerHTML='<td>'+day+'</td>'+schedule[day].map(h=>'<td>'+h+'</td>').join('');
  scheduleBody.appendChild(tr);
}

// Ø§Ù„Ø£Ø®Ø¨Ø§Ø±
fetch('student/news.json').then(r=>r.json()).then(list=>{
  const container=q('#news-container'); container.innerHTML='';
  list.sort((a,b)=> new Date(b.date)-new Date(a.date)).slice(0,3).forEach(n=>{
    const card=document.createElement('div'); card.className='news-card';
    card.innerHTML=`<h4>${n.title}</h4><time>${new Date(n.date).toLocaleDateString('ar-EG')}</time><p>${n.description}</p>`;
    container.appendChild(card);
  });
});

// Ø§Ù„Ù†Ø´Ø§Ø·Ø§Øª
fetch('student/ac.json').then(r=>r.json()).then(list=>{
  const container=q('#activities-container'); container.innerHTML='';
  list.forEach(a=>{
    const card=document.createElement('div'); card.className='activity-card';
    card.innerHTML=`<h4>${a.title}</h4><p>${a.description}</p>`;
    container.appendChild(card);
  });
});

// sidebar buttons
q('#btn-home').addEventListener('click',()=> showSection('home-section'));
q('#btn-grades').addEventListener('click',()=> showSection('grades-section'));
q('#btn-timetable').addEventListener('click',()=> showSection('timetable-section'));
q('#btn-activities').addEventListener('click',()=> showSection('activities-section'));
q('#btn-contact').addEventListener('click',()=> showSection('contact-section'));

// dark mode
const darkBtn=q('#btn-dark');
darkBtn.addEventListener('click',()=>{
  document.body.classList.toggle('dark');
  darkBtn.classList.toggle('active');
  localStorage.setItem('darkMode',document.body.classList.contains('dark')?'1':'0');
});
if(localStorage.getItem('darkMode')==='1'){ document.body.classList.add('dark'); darkBtn.classList.add('active'); }
</script>

</body>
</html>
