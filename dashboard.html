<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Ù„ÙˆØ­Ø© Ø§Ù„Ø·Ø§Ù„Ø¨ - Ø¥Ø¹Ø¯Ø§Ø¯ÙŠØ© Ø±Ø§ÙØ¯ÙŠÙ†</title>
<link rel="stylesheet" href="style.css" />
<style>
/* Ø®Ù„ÙÙŠØ© ÙƒØ§Ù…Ù„Ø© */
body {
  background: url('https://k.top4top.io/p_3498f7ivx1.png') no-repeat center center fixed;
  background-size: cover;
  margin:0;
  font-family: "Arial", sans-serif;
}

/* ØªØºÙ„ÙŠÙ Ø±Ø¦ÙŠØ³ÙŠ */
.app-wrap {
  max-width:1100px;
  margin: 30px auto;
  display:flex;
  gap:20px;
  padding:20px;
}

/* Ø§Ù„Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ø¬Ø§Ù†Ø¨ÙŠØ© Ù…Ø®ÙÙŠØ© Ø§ÙØªØ±Ø§Ø¶ÙŠÙ‹Ø§ */
.sidebar {
  width:250px;
  background: rgba(255,255,255,0.98);
  border-radius:8px;
  padding:12px;
  box-shadow:0 2px 8px rgba(0,0,0,0.06);
  height:fit-content;
  position: fixed;
  top:0;
  right:-260px; /* Ù…Ø®ÙÙŠØ© Ø®Ø§Ø±Ø¬ Ø§Ù„Ø´Ø§Ø´Ø© */
  transition: right 0.3s ease;
  z-index: 1000;
}

/* Ø­Ø§Ù„Ø© Ø¸Ù‡ÙˆØ± Ø§Ù„Ù‚Ø§Ø¦Ù…Ø© */
.sidebar.open { right:0; }

/* Ø²Ø± Ø§Ù„Ø«Ù„Ø§Ø« Ø®Ø·ÙˆØ· */
#menuBtn {
  position: fixed;
  top:20px;
  right:20px;
  z-index:1100;
  background:#54B8C2;
  border:none;
  padding:10px 12px;
  border-radius:6px;
  cursor:pointer;
  font-size:20px;
  color:white;
}

/* Ø£Ø²Ø±Ø§Ø± Ø§Ù„Ù‚Ø§Ø¦Ù…Ø© */
.sidebar button {
  width:100%;
  text-align:right;
  padding:10px 12px;
  margin:6px 0;
  font-size:15px;
  cursor:pointer;
  border-radius:6px;
  border:1px solid rgba(0,0,0,0.06);
  background:#fff;
}
.sidebar button.active {
  background: linear-gradient(90deg,#F4BE45,#54B8C2);
  color:#fff;
  border:none;
  box-shadow:0 2px 6px rgba(0,0,0,0.08);
}

/* Ø§Ù„Ù…Ø­ØªÙˆÙ‰ Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠ */
.main {
  flex:1;
  background: rgba(255,255,255,0.95);
  border-radius:8px;
  padding:18px;
  box-shadow:0 2px 8px rgba(0,0,0,0.06);
  min-height: 80vh;
}

/* Ø¹Ù†Ø§ØµØ± Ø§Ù„Ø·Ø§Ù„Ø¨ */
.student-card {
  display:flex;
  gap:14px;
  align-items:center;
  margin-bottom:14px;
}
.student-info h2 { margin:0 0 6px 0; font-size:20px; }
.student-meta { color:#555; font-size:14px; }

/* Ø±Ø³Ø§Ù„Ø© Ø§Ù„Ø¥Ø¯Ø§Ø±Ø© */
.admin-message {
  margin:12px 0;
  padding:12px;
  background: #fff6e6;
  border-left:4px solid #F4BE45;
  border-radius:6px;
  display:none;
}

/* Ø§Ù„Ø£Ø®Ø¨Ø§Ø± */
.news-list {
  display:grid;
  grid-template-columns: repeat(auto-fit,minmax(260px,1fr));
  gap:12px;
  margin-top:10px;
}
.news-card {
  padding:12px;
  border-radius:8px;
  background:#fafafa;
  border:1px solid #eee;
}
.news-card h4 { margin:0 0 6px 0; font-size:15px; }
.news-card time { color:#777; font-size:13px; }

.section { margin-top:14px; }
.hidden { display:none; }
.light-muted { color:#666; font-size:13px; }

/* Dark mode */
body.dark .main, body.dark .sidebar { background: rgba(32,32,32,0.86); color:#e9eef1; }
body.dark .news-card { background: rgba(0,0,0,0.45); border-color: rgba(255,255,255,0.06); }
body.dark .admin-message { background: rgba(255,255,255,0.03); border-left-color: #F4BE45; color:#fff; }

@media (max-width:900px){
  .app-wrap{ flex-direction:column; padding:12px; margin:12px; }
}
</style>
</head>
<body>

<!-- Ø²Ø± Ø§Ù„Ø«Ù„Ø§Ø« Ø®Ø·ÙˆØ· -->
<button id="menuBtn">â˜°</button>

<div class="app-wrap">
  <!-- Ø§Ù„Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ø¬Ø§Ù†Ø¨ÙŠØ© -->
  <aside class="sidebar" aria-label="Ø§Ù„Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ø¬Ø§Ù†Ø¨ÙŠØ©">
    <img src="https://e.top4top.io/p_34909jjnx0.png" alt="logo" class="logo-small" style="display:block;margin:0 auto 10px auto;width:80%;"/>
    <button id="btn-home" class="active">Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©</button>
    <button id="btn-grades">Ø¯Ø±Ø¬Ø§ØªÙŠ</button>
    <button id="btn-timetable">Ø¬Ø¯ÙˆÙ„ Ø§Ù„Ø£Ø³Ø¨ÙˆØ¹ÙŠ</button>
    <button id="btn-activities">Ø¬Ø¯ÙˆÙ„ Ø§Ù„Ù†Ø´Ø§Ø·Ø§Øª</button>
    <button id="btn-dark">Ø§Ù„ÙˆØ¶Ø¹ Ø§Ù„Ù…Ø¸Ù„Ù…</button>
    <button id="btn-contact">ØªÙˆØ§ØµÙ„ Ù…Ø¹Ù†Ø§</button>
  </aside>

  <!-- Ø§Ù„Ù…Ø­ØªÙˆÙ‰ Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠ -->
  <main class="main" role="main">
    <section id="home-section">
      <div class="student-card">
        <div style="width:82px;height:82px;border-radius:10px;background:#f1f1f1;display:flex;align-items:center;justify-content:center;font-size:28px;color:#777">ğŸ‘©â€ğŸ“</div>
        <div class="student-info">
          <h2 id="student-name">Ø§Ø³Ù… Ø§Ù„Ø·Ø§Ù„Ø¨</h2>
          <div class="student-meta"><span id="student-class">Ø§Ù„ØµÙ</span> â€” Ø´Ø¹Ø¨Ø© <span id="student-section">Ø´Ø¹Ø¨Ø©</span></div>
        </div>
      </div>
      <div id="admin-msg" class="admin-message" aria-live="polite"></div>
      <div class="section">
        <h3 style="margin:0 0 8px 0">Ø§Ù„Ø£Ø®Ø¨Ø§Ø±</h3>
        <div id="news-container" class="news-list" aria-live="polite"></div>
      </div>
    </section>

    <section id="grades-section" class="hidden section">
      <h3>Ø¯Ø±Ø¬Ø§ØªÙŠ</h3>
      <div id="grades-container"></div>
    </section>

    <section id="timetable-section" class="hidden section">
      <h3>Ø¬Ø¯ÙˆÙ„ Ø§Ù„Ø£Ø³Ø¨ÙˆØ¹ÙŠ</h3>
      <div id="timetable-container"></div>
    </section>

    <section id="activities-section" class="hidden section">
      <h3>Ø¬Ø¯ÙˆÙ„ Ø§Ù„Ù†Ø´Ø§Ø·Ø§Øª</h3>
      <div id="activities-container"></div>
    </section>

    <section id="contact-section" class="hidden section">
      <h3>ØªÙˆØ§ØµÙ„ Ù…Ø¹Ù†Ø§</h3>
      <p class="light-muted">Ø±ÙˆØ§Ø¨Ø· Ø§Ù„ØªÙˆØ§ØµÙ„ Ù‚Ø§Ø¨Ù„Ø© Ù„Ù„ØªØ¹Ø¯ÙŠÙ„ Ù…Ù† Ù‚Ø¨Ù„ Ø§Ù„Ø¥Ø¯Ø§Ø±Ø© (ÙÙŠØ³Ø¨ÙˆÙƒØŒ ØªÙŠÙ„ÙŠØ¬Ø±Ø§Ù… ...).</p>
      <div style="margin-top:10px"><a id="fb-link" href="#" target="_blank">ÙÙŠØ³Ø¨ÙˆÙƒ</a> â€” <a id="tg-link" href="#" target="_blank">ØªÙŠÙ„ÙŠØ¬Ø±Ø§Ù…</a></div>
    </section>
  </main>
</div>

<script>
// Ø¹Ù†Ø§ØµØ±
const sidebar = document.querySelector('.sidebar');
const menuBtn = document.getElementById('menuBtn');

// Ø¥Ø®ÙØ§Ø¡/Ø¥Ø¸Ù‡Ø§Ø± Ø§Ù„Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ø¬Ø§Ù†Ø¨ÙŠØ©
menuBtn.addEventListener('click', ()=> sidebar.classList.toggle('open'));

// Ø¥Ø®ÙØ§Ø¡ Ø§Ù„Ù‚Ø§Ø¦Ù…Ø© Ø¹Ù†Ø¯ Ø§Ø®ØªÙŠØ§Ø± Ø²Ø±
document.querySelectorAll('.sidebar button').forEach(btn=>{
  btn.addEventListener('click', ()=>{
    document.querySelectorAll('.main section').forEach(s=>s.classList.add('hidden'));
    const map = {
      'btn-home':'home-section',
      'btn-grades':'grades-section',
      'btn-timetable':'timetable-section',
      'btn-activities':'activities-section',
      'btn-contact':'contact-section'
    };
    const sectionId = map[btn.id];
    if(sectionId) document.getElementById(sectionId).classList.remove('hidden');
    document.querySelectorAll('.sidebar button').forEach(b=>b.classList.remove('active'));
    btn.classList.add('active');
    sidebar.classList.remove('open');
    window.scrollTo({top:0,behavior:'smooth'});
  });
});

// Ø§Ù„ÙˆØ¶Ø¹ Ø§Ù„Ù…Ø¸Ù„Ù…
const darkBtn = document.getElementById('btn-dark');
darkBtn.addEventListener('click', ()=>{
  document.body.classList.toggle('dark');
  darkBtn.classList.toggle('active');
  localStorage.setItem('darkMode', document.body.classList.contains('dark') ? '1':'0');
});
if(localStorage.getItem('darkMode')==='1'){ document.body.classList.add('dark'); darkBtn.classList.add('active'); }

// ØªØ­Ù…ÙŠÙ„ Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø·Ø§Ù„Ø¨
const student = JSON.parse(localStorage.getItem('studentData')||'null');
if(!student){ alert('Ù„Ù… ÙŠØªÙ… Ø§Ù„Ø¹Ø«ÙˆØ± Ø¹Ù„Ù‰ Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø·Ø§Ù„Ø¨. Ø§Ù„Ø±Ø¬Ø§Ø¡ ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„.'); window.location.href='index.html'; }
else {
  document.getElementById('student-name').textContent = student['Ø§Ù„Ø§Ø³Ù…']||'â€”';
  document.getElementById('student-class').textContent = student['Ø§Ù„ØµÙ']||'â€”';
  document.getElementById('student-section').textContent = student['Ø§Ù„Ø´Ø¹Ø¨Ø©']||'â€”';
  
  // Ø±Ø³Ø§Ù„Ø© Ø§Ù„Ø¥Ø¯Ø§Ø±Ø©
  let adminMsg = student['Ø±Ø³Ø§Ù„Ø©_Ø§Ù„Ø¥Ø¯Ø§Ø±Ø©']||student['Ø±Ø³Ø§Ù„Ø© Ø§Ù„Ø¥Ø¯Ø§Ø±Ø©']||student['adminMessage']||'';
  if(adminMsg){ const el = document.getElementById('admin-msg'); el.style.display='block'; el.innerHTML=adminMsg.replace(/\n/g,'<br>'); }

  // Ø¬Ø¯ÙˆÙ„ Ø§Ù„Ø¯Ø±Ø¬Ø§Øª
  const grades = student['Ø§Ù„Ø¯Ø±Ø¬Ø§Øª']||{};
  const container = document.getElementById('grades-container');
  let html = '';
  for(const subj in grades){
    html += `<h4>${subj}</h4><table border="1" cellpadding="4"><tr>`;
    for(const term in grades[subj]) html += `<th>${term}</th>`;
    html += `</tr><tr>`;
    for(const term in grades[subj]) html += `<td>${grades[subj][term]}</td>`;
    html += `</tr></table><br>`;
  }
  container.innerHTML = html;

  // Ø§Ù„Ø¬Ø¯ÙˆÙ„ Ø§Ù„Ø£Ø³Ø¨ÙˆØ¹ÙŠ
  const timetable = student['Ø§Ù„Ø¬Ø¯ÙˆÙ„']||{};
  const ttContainer = document.getElementById('timetable-container');
  let ttHtml = '<table border="1" cellpadding="4"><tr><th>Ø§Ù„ÙŠÙˆÙ…</th><th>Ø§Ù„Ø­ØµØ©1</th><th>Ø§Ù„Ø­ØµØ©2</th><th>Ø§Ù„Ø­ØµØ©3</th><th>Ø§Ù„Ø­ØµØ©4</th><th>Ø§Ù„Ø­ØµØ©5</th><th>Ø§Ù„Ø­ØµØ©6</th></tr>';
  for(const day in timetable){
    ttHtml += `<tr><td>${day}</td>`;
    for(let i=0;i<6;i++) ttHtml += `<td>${timetable[day][i]||'â€”'}</td>`;
    ttHtml += '</tr>';
  }
  ttHtml += '</table>';
  ttContainer.innerHTML = ttHtml;
}

// Ø§Ù„Ø£Ø®Ø¨Ø§Ø±
fetch('student/news.json').then(r=>r.json()).then(list=>{
  const container = document.getElementById('news-container');
  container.innerHTML='';
  list.slice(0,3).forEach(n=>{
    const div = document.createElement('div'); div.className='news-card';
    div.innerHTML = `<h4>${n.title}</h4><time>${n.date}</time><p>${n.description}</p>`;
    container.appendChild(div);
  });
}).catch(err=>console.warn(err));
</script>
</body>
</html>
